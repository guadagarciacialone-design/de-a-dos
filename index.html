<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>A jugar de a dos</title>

  <style>
    :root{
      --bg:#0E0E0E;
      --text:#F2F2F2;
      --muted:#C6B8A5;
      --card:#2A2A2A;
      --accent:#7A1E2C;
    }
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: Arial, sans-serif;
      text-align:center;
    }
    .screen{ display:none; min-height:100vh; padding:40px 20px; box-sizing:border-box; }
    .screen.active{ display:block; }

    h1{ margin-top:20vh; font-size:2.2rem; letter-spacing:0.5px; }
    .subtitle{ color:var(--muted); margin:18px 0 30px; }

    .primary{
      background:var(--accent);
      color:#fff;
      border:0;
      padding:14px 30px;
      border-radius:10px;
      font-size:1rem;
    }
    .links{ margin-top:22px; }
    .links span{
      color:var(--muted);
      margin:0 10px;
      cursor:pointer;
      user-select:none;
    }

    .level{
      background:var(--card);
      margin:18px auto;
      padding:26px 20px;
      border-radius:16px;
      max-width:320px;
      cursor:pointer;
    }
    .level h2{ margin:0; letter-spacing:1px; }
    .level p{ margin:10px 0 0; color:var(--muted); }
    .level.locked{ opacity:0.35; cursor:default; }
    .level small{ display:block; margin-top:10px; color:var(--muted); }

    .bigcard{
      background:var(--card);
      border-radius:18px;
      max-width:520px;
      margin:10vh auto 18px;
      padding:34px 24px 28px;
      box-sizing:border-box;
    }
    #cardText{
      font-size:1.45rem;
      line-height:1.45;
      margin:0;
      white-space:pre-line;
    }
    #alcoholTag{
      display:none;
      margin-top:16px;
      color:var(--muted);
      font-size:0.85rem;
    }

    .actions{ margin-top:18px; }
    .actions button{
      margin:8px;
      background:none;
      border:0;
      color:var(--muted);
      font-size:1rem;
      padding:10px 14px;
      cursor:pointer;
    }
    .actions button.primaryMini{
      color:#fff;
      background:rgba(122,30,44,0.25);
      border-radius:10px;
    }

    .panel{
      max-width:420px;
      margin:10vh auto 0;
      text-align:left;
      background:var(--card);
      padding:22px 18px;
      border-radius:16px;
      box-sizing:border-box;
    }
    .panel h2{ margin:0 0 14px; text-align:center; }
    label{ display:block; color:var(--muted); margin:12px 0 6px; }
    select{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid #3a3a3a;
      background:#1b1b1b;
      color:var(--text);
      font-size:1rem;
    }
    .backBtn{
      margin-top:16px;
      width:100%;
      padding:12px 14px;
      border-radius:12px;
      border:0;
      background:rgba(198,184,165,0.12);
      color:var(--muted);
      font-size:1rem;
      cursor:pointer;
    }
    .tiny{ color:var(--muted); font-size:0.9rem; line-height:1.4; }
  </style>
</head>
<body>

  <!-- INICIO -->
  <section id="home" class="screen active">
    <h1>A jugar de a dos</h1>
    <p class="subtitle">Una excusa para mirarse distinto.</p>
    <button class="primary" onclick="goTo('levels')">JUGAR</button>
    <div class="links">
      <span onclick="goTo('rules')">Reglas</span>
      <span onclick="goTo('settings')">Ajustes</span>
    </div>
  </section>

  <!-- NIVELES -->
  <section id="levels" class="screen">
    <div class="level" onclick="startLevel('suave')">
      <h2>SUAVE</h2><p>conexi√≥n</p>
    </div>
    <div class="level" onclick="startLevel('medio')">
      <h2>MEDIO</h2><p>provocaci√≥n</p>
    </div>
    <div class="level" onclick="startLevel('intenso')">
      <h2>INTENSO</h2><p>decisi√≥n</p>
      <small style="opacity:.85;">(beta)</small>
    </div>

    <button class="backBtn" onclick="goTo('home')">Volver</button>
  </section>

  <!-- JUEGO / CARTA -->
  <section id="play" class="screen">
    <div class="bigcard">
      <p id="cardText"></p>
      <div id="alcoholTag">ü•É modo alcohol</div>
    </div>

    <div class="actions">
      <button class="primaryMini" onclick="nextCard()">‚úî Hecho</button>
      <button onclick="nextCard()">‚è≠ Pasar</button>
      <button onclick="shuffleDeck()">üîÄ Barajar</button>
      <button onclick="goTo('levels')">‚Ü© Niveles</button>
    </div>
  </section>

  <!-- AJUSTES -->
  <section id="settings" class="screen">
    <div class="panel">
      <h2>Ajustes</h2>

      <label for="alcoholMode">Modo alcohol</label>
      <select id="alcoholMode">
        <option value="off">Off</option>
        <option value="sorbos">Sorbos</option>
        <option value="shots">Shots ü•É</option>
      </select>

      <p class="tiny" style="margin-top:14px;">
        El alcohol es opcional. Si est√° en Off, las cartas con ü•É no muestran nada extra.
      </p>

      <button class="backBtn" onclick="saveSettingsAndBack()">Guardar y volver</button>
    </div>
  </section>

  <!-- REGLAS -->
  <section id="rules" class="screen">
    <div class="panel">
      <h2>Reglas</h2>
      <p class="tiny">
        ‚Ä¢ Se juega por turnos.<br/>
        ‚Ä¢ Pod√©s pasar una carta sin explicar.<br/>
        ‚Ä¢ Todo es consensuado.<br/>
        ‚Ä¢ El alcohol es opcional y bajo responsabilidad de los usuarios.<br/>
      </p>
      <button class="backBtn" onclick="goTo('home')">Volver</button>
    </div>
  </section>

<script>
  // ---------- Datos (40 cartas) ----------
  const CARDS = {
    suave: [
      {t:"Mir√° a tu pareja en silencio durante 30 segundos.", a:false},
      {t:"Decile algo que te gusta mucho de su forma de ser.", a:false},
      {t:"Tomale la mano y gui√° el movimiento lentamente.", a:false},
      {t:"Acercate despacio hasta quedar muy cerca‚Ä¶ y fren√° ah√≠.", a:false},
      {t:"Apoy√° tu frente contra la suya y respiren juntos/as.", a:false},
      {t:"Cont√° un recuerdo donde te haya resultado especialmente atractivo/a.", a:false},
      {t:"Eleg√≠ una parte del cuerpo y tocala con suavidad durante 20 segundos.", a:false},
      {t:"Sonre√≠ sin explicar nada durante 15 segundos.", a:false},
      {t:"Dec√≠ qu√© parte del momento est√°s disfrutando m√°s.", a:false},
      {t:"Miralo/a como si fuera la primera vez.", a:false},
      {t:"Si alguno se pone nervioso, tom√° un sorbo y segu√≠.", a:true},
      {t:"Brinden con un sorbo y m√≠rense sin hablar durante 10 segundos.", a:true},
      {t:"Decile algo lindo sin usar la palabra ‚Äúamor‚Äù.", a:false},
      {t:"Cambi√° de lugar lentamente.", a:false},
      {t:"Cerr√° los ojos y dejate guiar por unos segundos.", a:false},
    ],
    medio: [
      {t:"Eleg√≠ el ritmo del pr√≥ximo minuto.", a:false},
      {t:"Us√° solo las manos para provocar a tu pareja.", a:false},
      {t:"Gui√° a tu pareja sin usar palabras.", a:false},
      {t:"Acercate lentamente y fren√° justo antes del contacto.", a:false},
      {t:"Explor√° una zona distinta a la habitual.", a:false},
      {t:"Dec√≠ algo que te gustar√≠a que pase esta noche.", a:false},
      {t:"Hac√© que todo sea m√°s lento de lo normal.", a:false},
      {t:"Cambien los roles por una ronda.", a:false},
      {t:"Mir√° fijo hasta que uno desv√≠e la mirada.", a:false},
      {t:"Gui√° el momento durante 30 segundos.", a:false},
      {t:"Si dud√°s antes de decidir, shot y eleg√≠.", a:true},
      {t:"El que rompa el silencio toma un sorbo.", a:true},
      {t:"Cada uno toma un shot. El que termine primero decide c√≥mo sigue.", a:true},
      {t:"Si alguno se r√≠e o corta el clima, shot.", a:true},
      {t:"Dec√≠ qu√© te est√° provocando m√°s ahora.", a:false},
    ],
    intenso: [
      {t:"No se permiten palabras durante el pr√≥ximo turno.", a:false},
      {t:"Uno gu√≠a, el otro sigue sin preguntar.", a:false},
      {t:"Tom√° el control total durante un minuto.", a:false},
      {t:"Eleg√≠ c√≥mo y cu√°ndo continuar.", a:false},
      {t:"Hac√© que tu pareja espere unos segundos m√°s de lo que quiere.", a:false},
      {t:"Mir√° claro a tu pareja y dec√≠ exactamente qu√© quer√©s ahora.", a:false},
      {t:"Manten√© la intensidad sin cambiar el ritmo.", a:false},
      {t:"Quien rompa el juego, shot.", a:true},
      {t:"Shot juntos/as. Despu√©s, uno manda el pr√≥ximo turno.", a:true},
      {t:"Shot final. Decidan si siguen‚Ä¶ o si termina ac√°.", a:true},
    ]
  };

  // ---------- Estado ----------
  let currentLevel = null;
  let deck = [];
  let idx = 0;

  // settings
  function getAlcoholMode(){
    return localStorage.getItem("alcoholMode") || "off";
  }
  function setAlcoholMode(v){
    localStorage.setItem("alcoholMode", v);
  }

  // ---------- Navegaci√≥n ----------
  function goTo(id){
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");

    // cuando entro a settings, sincronizo el select
    if(id === "settings"){
      document.getElementById("alcoholMode").value = getAlcoholMode();
    }
  }

  function saveSettingsAndBack(){
    const v = document.getElementById("alcoholMode").value;
    setAlcoholMode(v);
    goTo("home");
  }

  // ---------- Juego ----------
  function startLevel(level){
    currentLevel = level;
    deck = CARDS[level].map(x => ({...x})); // copia
    shuffleDeck(true);
    goTo("play");
    showCurrent();
  }

  function shuffleDeck(silent){
    // Fisher-Yates
    for(let i=deck.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [deck[i], deck[j]] = [deck[j], deck[i]];
    }
    idx = 0;
    if(!silent) showCurrent();
  }

  function showCurrent(){
    if(deck.length === 0){
      document.getElementById("cardText").innerText = "No hay cartas cargadas.";
      document.getElementById("alcoholTag").style.display = "none";
      return;
    }

    const card = deck[idx];
    document.getElementById("cardText").innerText = card.t;

    const mode = getAlcoholMode();
    const showAlcohol = (mode !== "off") && card.a === true;

    document.getElementById("alcoholTag").style.display = showAlcohol ? "block" : "none";
    document.getElementById("alcoholTag").innerText =
      showAlcohol ? (mode === "shots" ? "ü•É shots activados" : "ü•É sorbos activados") : "";
  }

  function nextCard(){
    idx++;
    if(idx >= deck.length){
      // termin√≥ el mazo: remezcla y arranca de nuevo
      shuffleDeck(true);
      idx = 0;
    }
    showCurrent();
  }

  // ---------- Init ----------
  // aseguramos valor default
  if(!localStorage.getItem("alcoholMode")) setAlcoholMode("off");
</script>

</body>
</html>
